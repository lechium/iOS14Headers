/*
* This header is generated by classdump-dyld 1.0
* on Sunday, September 27, 2020 at 11:52:03 AM Mountain Standard Time
* Operating System: Version 14.0 (Build 18A373)
* Image Source: /System/Library/PrivateFrameworks/EmailDaemon.framework/EmailDaemon
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <EmailDaemon/EmailDaemon-Structs.h>
#import <EmailDaemon/EDMessageRepositoryQueryHandler.h>
#import <libobjc.A.dylib/EDMessageQueryHelperDelegate.h>
#import <libobjc.A.dylib/EFLoggable.h>
#import <libobjc.A.dylib/EFContentProtectionObserver.h>
#import <libobjc.A.dylib/EMCollectionItemIDStateCapturerDelegate.h>

@protocol EDRemoteSearchProvider, EFScheduler, OS_dispatch_queue;
@class NSMutableOrderedSet, NSMutableDictionary, EFProcessTransaction, EDVIPManager, EDMessageQueryHelper, NSArray, EDUpdateThrottler, EDThreadReloadSummaryHelper, NSObject, EMMailboxScope, EMCollectionItemIDStateCapturer, NSString;

@interface EDInMemoryThreadQueryHandler : EDMessageRepositoryQueryHandler <EDMessageQueryHelperDelegate, EFLoggable, EFContentProtectionObserver, EMCollectionItemIDStateCapturerDelegate> {

	NSMutableOrderedSet* _conversationIDs;
	NSMutableDictionary* _threadsByConversationID;
	NSMutableDictionary* _changesWhilePaused;
	NSMutableDictionary* _oldestThreadsByMailboxObjectIDs;
	EFProcessTransaction* _processTransaction;
	os_unfair_lock_s _threadsLock;
	BOOL _didCancel;
	BOOL _isInitialized;
	BOOL _isPaused;
	BOOL _hasChangesWhilePaused;
	EDVIPManager* _vipManager;
	id<EDRemoteSearchProvider> _remoteSearchProvider;
	EDMessageQueryHelper* _messageQueryHelper;
	NSArray* _messageSortDescriptors;
	/*^block*/id _comparator;
	EDUpdateThrottler* _updateThrottler;
	EDThreadReloadSummaryHelper* _reloadSummaryHelper;
	id<EFScheduler> _scheduler;
	NSObject*<OS_dispatch_queue> _contentProtectionQueue;
	NSObject*<OS_dispatch_queue> _resultQueue;
	EMMailboxScope* _mailboxScope;
	EMCollectionItemIDStateCapturer* _stateCapturer;

}

@property (nonatomic,readonly) EDVIPManager * vipManager;                                                         //@synthesize vipManager=_vipManager - In the implementation block
@property (nonatomic,readonly) id<EDRemoteSearchProvider> remoteSearchProvider;                                   //@synthesize remoteSearchProvider=_remoteSearchProvider - In the implementation block
@property (nonatomic,readonly) id<EMMessageListItemQueryResultsObserver> resultsObserverIfNotPaused; 
@property (nonatomic,retain) EDMessageQueryHelper * messageQueryHelper;                                           //@synthesize messageQueryHelper=_messageQueryHelper - In the implementation block
@property (nonatomic,copy,readonly) NSArray * messageSortDescriptors;                                             //@synthesize messageSortDescriptors=_messageSortDescriptors - In the implementation block
@property (nonatomic,readonly) id comparator;                                                                     //@synthesize comparator=_comparator - In the implementation block
@property (nonatomic,readonly) EDUpdateThrottler * updateThrottler;                                               //@synthesize updateThrottler=_updateThrottler - In the implementation block
@property (nonatomic,readonly) EDThreadReloadSummaryHelper * reloadSummaryHelper;                                 //@synthesize reloadSummaryHelper=_reloadSummaryHelper - In the implementation block
@property (nonatomic,readonly) id<EFScheduler> scheduler;                                                         //@synthesize scheduler=_scheduler - In the implementation block
@property (nonatomic,readonly) NSObject*<OS_dispatch_queue> contentProtectionQueue;                               //@synthesize contentProtectionQueue=_contentProtectionQueue - In the implementation block
@property (nonatomic,readonly) NSObject*<OS_dispatch_queue> resultQueue;                                          //@synthesize resultQueue=_resultQueue - In the implementation block
@property (assign,nonatomic) BOOL didCancel;                                                                      //@synthesize didCancel=_didCancel - In the implementation block
@property (assign,nonatomic) BOOL isInitialized;                                                                  //@synthesize isInitialized=_isInitialized - In the implementation block
@property (assign,nonatomic) BOOL isPaused;                                                                       //@synthesize isPaused=_isPaused - In the implementation block
@property (assign,nonatomic) BOOL hasChangesWhilePaused;                                                          //@synthesize hasChangesWhilePaused=_hasChangesWhilePaused - In the implementation block
@property (nonatomic,readonly) EMMailboxScope * mailboxScope;                                                     //@synthesize mailboxScope=_mailboxScope - In the implementation block
@property (nonatomic,readonly) EMCollectionItemIDStateCapturer * stateCapturer;                                   //@synthesize stateCapturer=_stateCapturer - In the implementation block
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
+(id)log;
-(void)tearDown;
-(void)cancel;
-(id<EFScheduler>)scheduler;
-(BOOL)didCancel;
-(void)contentProtectionStateChanged:(int)arg1 previousState:(int)arg2 ;
-(EDUpdateThrottler *)updateThrottler;
-(NSObject*<OS_dispatch_queue>)resultQueue;
-(EDVIPManager *)vipManager;
-(BOOL)isInitialized;
-(NSObject*<OS_dispatch_queue>)contentProtectionQueue;
-(id)labelForStateCapture;
-(id)itemIDsForStateCaptureWithErrorString:(id*)arg1 ;
-(void)dealloc;
-(void)setIsPaused:(BOOL)arg1 ;
-(id<EDRemoteSearchProvider>)remoteSearchProvider;
-(BOOL)isPaused;
-(void)start;
-(id)comparator;
-(void)_vipsDidChange:(id)arg1 ;
-(void)test_tearDown;
-(EMCollectionItemIDStateCapturer *)stateCapturer;
-(void)_blockedSendersDidChange:(id)arg1 ;
-(EMMailboxScope *)mailboxScope;
-(id)_inMemoryThreadSortDescriptorsForThreadSortDescriptors:(id)arg1 ;
-(void)_createHelperAndReconcileJournal:(BOOL)arg1 ;
-(void)setDidCancel:(BOOL)arg1 ;
-(EDMessageQueryHelper *)messageQueryHelper;
-(void)setHasChangesWhilePaused:(BOOL)arg1 ;
-(BOOL)hasChangesWhilePaused;
-(void)_refreshObserver;
-(void)_notifyObserverOfOldestThreadsByMailboxObjectIDs;
-(id)_messageQueryFromThreadsQuery:(id)arg1 ;
-(void)setMessageQueryHelper:(EDMessageQueryHelper *)arg1 ;
-(void)setIsInitialized:(BOOL)arg1 ;
-(void)_contentProtectionChangedToUnlocked;
-(void)_contentProtectionChangedToLocked;
-(void)_restartHelper;
-(BOOL)_queryHelperIsCurrent:(id)arg1 ;
-(void)_messagesWereAdded:(id)arg1 ;
-(void)_initializeOldestThreadsByMailbox;
-(id)_messagesByConversationIDForMessages:(id)arg1 ;
-(BOOL)_messageListItemChangeAffectsSorting:(id)arg1 ;
-(void)_prepareToSendUpdates;
-(BOOL)_reportChanges:(id)arg1 ;
-(BOOL)_mergeInThreads:(id)arg1 forMove:(BOOL)arg2 ;
-(void)_didSendUpdates;
-(void)_messagesWereChanged:(id)arg1 forKeyPaths:(id)arg2 deleted:(BOOL)arg3 ;
-(BOOL)_reportDeletes:(id)arg1 ;
-(id<EMMessageListItemQueryResultsObserver>)resultsObserverIfNotPaused;
-(BOOL)_removeThreadsForInMemoryThreads:(id)arg1 forMove:(BOOL)arg2 ;
-(BOOL)_didMergeInThreads:(id)arg1 ;
-(EDThreadReloadSummaryHelper *)reloadSummaryHelper;
-(BOOL)_threadsWereDeleted;
-(BOOL)_updateOldestThreadsForMailboxes:(id)arg1 ;
-(BOOL)_updateCurrentOldestThreadWithThreadIfApplicable:(id)arg1 forMailbox:(id)arg2 ;
-(void)queryHelper:(id)arg1 didFindMessages:(id)arg2 ;
-(void)queryHelperDidFindAllMessages:(id)arg1 ;
-(void)queryHelper:(id)arg1 didAddMessages:(id)arg2 ;
-(void)queryHelper:(id)arg1 messageFlagsDidChangeForMessages:(id)arg2 ;
-(void)queryHelper:(id)arg1 conversationIDDidChangeForMessages:(id)arg2 fromConversationID:(long long)arg3 ;
-(void)queryHelper:(id)arg1 conversationNotificationLevelDidChangeForConversation:(long long)arg2 conversationID:(long long)arg3 ;
-(void)queryHelper:(id)arg1 objectIDDidChangeForMessage:(id)arg2 oldObjectID:(id)arg3 oldConversationID:(long long)arg4 ;
-(void)queryHelper:(id)arg1 didUpdateMessages:(id)arg2 forKeyPaths:(id)arg3 ;
-(void)queryHelper:(id)arg1 didDeleteMessages:(id)arg2 ;
-(void)queryHelperDidFinishRemoteSearch:(id)arg1 ;
-(void)queryHelperNeedsRestart:(id)arg1 ;
-(id)initWithQuery:(id)arg1 messagePersistence:(id)arg2 hookRegistry:(id)arg3 vipManager:(id)arg4 remoteSearchProvider:(id)arg5 observer:(id)arg6 observationIdentifier:(id)arg7 observationResumer:(id)arg8 ;
-(id)threadForObjectID:(id)arg1 error:(id*)arg2 ;
-(id)messagesForThread:(id)arg1 ;
-(NSArray *)messageSortDescriptors;
@end

